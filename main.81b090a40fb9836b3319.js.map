{"version":3,"sources":["webpack:///./services/oneDayService.js","webpack:///./index.js","webpack:///./templates/weather-template.hbs"],"names":["key","query","fetchCountury","requestParams","this","fetch","then","response","json","catch","error","string","refs","cityInput","document","getElementsByClassName","currentWeather","bodyImg","querySelector","buildWeatherItemsMarkup","items","undefined","style","display","markup","weatherTemplate","insertAdjacentHTML","input","addEventListener","_","debounce","event","preventDefault","innerHTML","searchQuery","target","value","apiServiceOneDay","cod","dataTemp","cityName","name","sysCountry","sys","country","iconSrc","weather","icon","mainTemp","Math","round","main","temp","mainTempMin","temp_min","mainTempMax","temp_max","alert","console","warn","Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call"],"mappings":"0LAEe,G,oBAAA,CACbA,IAAK,mCAELC,MAAO,GACPC,cAJa,WAKX,IAAMC,EAAgB,KAAKC,KAAKH,MAAb,uBAAyCG,KAAKJ,IAEjE,OACEK,MAVU,mDAUMF,GACbG,MAAK,SAAAC,GACJ,OAAOA,EAASC,UAEjBC,OAAM,SAAAC,GACL,MAAMA,MAKd,gBAAgBC,GACdP,KAAKH,MAAQU,GAEf,kBACE,OAAOP,KAAKH,S,yDCbVW,EAAO,CACXC,UAAWC,SAASC,uBAAuB,cAC3CC,eAAgBF,SAASC,uBAAuB,mBAChDE,QAASH,SAASI,cAAc,SAgDlC,SAASC,EAAwBC,GAC/B,QAAcC,IAAVD,EAAJ,CAGER,EAAKI,eAAeM,MAAMC,QAAU,OACpC,IAAMC,EAASC,IAAgBL,GAC/BR,EAAKI,eAAeU,mBAAmB,YAAaF,IAnDxDZ,EAAKe,MAAMC,iBAAiB,QAASC,IAAEC,UAGvC,SAA0BC,GACxBA,EAAMC,iBAmDNpB,EAAKI,eAAeiB,UAAY,GAjDhC,IAAMC,EAAcH,EAAMI,OAAOC,MACjCC,EAAiBH,YAAcA,EAC/BH,EAAMI,OAAOC,MAAQ,GAKrBC,EACGnC,gBACAI,MAAK,SAAAC,GACJ,GAAqB,QAAjBA,EAAS+B,IAGN,CACL,IAAMC,EAAW,OAAH,UAAQhC,GAChBiC,EAAWD,EAASE,KACpBC,EAAaH,EAASI,IAAIC,QAC1BC,EAAUN,EAASO,QAAQ,GAAGC,KAIpC,MAAO,CACLP,WACAQ,SALeC,KAAKC,MAAMX,EAASY,KAAKC,MAMxCP,UACAH,aACAW,YAPkBJ,KAAKC,MAAMX,EAASY,KAAKG,UAQ3CC,YAPkBN,KAAKC,MAAMX,EAASY,KAAKK,WAT7C5C,EAAKI,eAAeM,MAAMC,QAAU,OACpCb,gBAAM,yBAoBTJ,KAAKa,GACLV,OAAM,SAAAC,GACL+C,gBAAM,YACNC,QAAQC,KAAKjD,QAzC+C,MAClEE,EAAKI,eAAeM,MAAMC,QAAU,Q,qBClBpC,IAAIqC,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,SAAW,CAAC,EAAE,YAAY,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GACzI,IAAIC,EAAQC,EAAiB,MAAVL,EAAiBA,EAAUD,EAAUO,aAAe,GAAKC,EAAOR,EAAUS,MAAMC,cAAeC,EAAO,WAAYC,EAAOZ,EAAUa,iBAAkBC,EAAiBd,EAAUc,gBAAkB,SAASC,EAAQC,GAClO,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,oEACHJ,SAASP,EAAyH,OAA/GA,EAASS,EAAeZ,EAAQ,aAAyB,MAAVD,EAAiBa,EAAeb,EAAO,WAAaA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,UAAU,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GACzT,iEACAO,SAASP,EAA2H,OAAjHA,EAASS,EAAeZ,EAAQ,cAA0B,MAAVD,EAAiBa,EAAeb,EAAO,YAAcA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,WAAW,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAC5T,KACAO,SAASP,EAA+H,OAArHA,EAASS,EAAeZ,EAAQ,gBAA4B,MAAVD,EAAiBa,EAAeb,EAAO,cAAgBA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,aAAa,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAClU,sEACAO,SAASP,EAA2H,OAAjHA,EAASS,EAAeZ,EAAQ,cAA0B,MAAVD,EAAiBa,EAAeb,EAAO,YAAcA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,WAAW,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAC5T,wHACAO,SAASP,EAAiI,OAAvHA,EAASS,EAAeZ,EAAQ,iBAA6B,MAAVD,EAAiBa,EAAeb,EAAO,eAAiBA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,cAAc,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GACrU,sIACAO,SAASP,EAAiI,OAAvHA,EAASS,EAAeZ,EAAQ,iBAA6B,MAAVD,EAAiBa,EAAeb,EAAO,eAAiBA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,cAAc,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASC,GACvU,iCACJ,SAAU,M","file":"main.81b090a40fb9836b3319.js","sourcesContent":["const baseUrl = 'https://api.openweathermap.org/data/2.5/weather?';\r\n\r\nexport default {\r\n  key: 'f1eb03cbf29532e3266fc8d482a9ae80',\r\n\r\n  query: '',\r\n  fetchCountury() {\r\n    const requestParams = `q=${this.query}&units=metric&appid=${this.key}`;\r\n\r\n    return (\r\n      fetch(baseUrl + requestParams)\r\n        .then(response => {\r\n          return response.json();\r\n        })\r\n        .catch(error => {\r\n          throw error;\r\n        })\r\n    );\r\n  },\r\n\r\n  set searchQuery(string) {\r\n    this.query = string;\r\n  },\r\n  get searchQuery() {\r\n    return this.query;\r\n  },\r\n};","'use strict';\r\n\r\nimport './styles.css';\r\nimport '../node_modules/basiclightbox/dist/basicLightbox.min.css';\r\nimport weatherTemplate from './templates/weather-template.hbs';\r\nimport apiServiceOneDay from './services/oneDayService.js';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\nimport { alert, error } from '@pnotify/core/dist/PNotify';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport _ from 'lodash';\r\n\r\nconst refs = {\r\n  cityInput: document.getElementsByClassName('city-input'),\r\n  currentWeather: document.getElementsByClassName('weather-wrapper'),\r\n  bodyImg: document.querySelector('body'),\r\n};\r\n\r\nrefs.input.addEventListener('input', _.debounce(handleInputValue, 2000));\r\nrefs.currentWeather.style.display = 'none';\r\n\r\nfunction handleInputValue(event) {\r\n  event.preventDefault();\r\n  clearMarkup();\r\n  const searchQuery = event.target.value;\r\n  apiServiceOneDay.searchQuery = searchQuery;\r\n  event.target.value = '';\r\n  createWeatherTemplate();\r\n}\r\n\r\nfunction createWeatherTemplate() {\r\n  apiServiceOneDay\r\n    .fetchCountury()\r\n    .then(response => {\r\n      if (response.cod === '404') {\r\n        refs.currentWeather.style.display = 'none';\r\n        error('No such city found');\r\n      } else {\r\n        const dataTemp = { ...response };\r\n        const cityName = dataTemp.name;\r\n        const sysCountry = dataTemp.sys.country;\r\n        const iconSrc = dataTemp.weather[0].icon;\r\n        const mainTemp = Math.round(dataTemp.main.temp);\r\n        const mainTempMin = Math.round(dataTemp.main.temp_min);\r\n        const mainTempMax = Math.round(dataTemp.main.temp_max);\r\n        return {\r\n          cityName,\r\n          mainTemp,\r\n          iconSrc,\r\n          sysCountry,\r\n          mainTempMin,\r\n          mainTempMax,\r\n        };\r\n      }\r\n    })\r\n\r\n    .then(buildWeatherItemsMarkup)\r\n    .catch(error => {\r\n      alert('Error :(');\r\n      console.warn(error);\r\n    });\r\n}\r\n\r\nfunction buildWeatherItemsMarkup(items) {\r\n  if (items === undefined) {\r\n    return;\r\n  } else {\r\n    refs.currentWeather.style.display = 'flex';\r\n    const markup = weatherTemplate(items);\r\n    refs.currentWeather.insertAdjacentHTML('beforeend', markup);\r\n  }\r\n}\r\nfunction clearMarkup() {\r\n  refs.currentWeather.innerHTML = '';\r\n}\r\n\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<img class=\\\"weather-icon\\\" src=\\\"https://openweathermap.org/img/wn/\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"iconSrc\") || (depth0 != null ? lookupProperty(depth0,\"iconSrc\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"iconSrc\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":65},\"end\":{\"line\":1,\"column\":76}}}) : helper)))\n    + \"@2x.png\\\" alt=\\\"\\\" class=\\\"wether-img\\\" />\\r\\n<p class=\\\"city-name\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"cityName\") || (depth0 != null ? lookupProperty(depth0,\"cityName\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"cityName\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":21},\"end\":{\"line\":2,\"column\":33}}}) : helper)))\n    + \", \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"sysCountry\") || (depth0 != null ? lookupProperty(depth0,\"sysCountry\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"sysCountry\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":35},\"end\":{\"line\":2,\"column\":49}}}) : helper)))\n    + \"</p>\\r\\n<div class=\\\"degrees-wrapper\\\">\\r\\n    <p class=\\\"act-degree\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"mainTemp\") || (depth0 != null ? lookupProperty(depth0,\"mainTemp\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"mainTemp\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":26},\"end\":{\"line\":4,\"column\":38}}}) : helper)))\n    + \"°</p>\\r\\n    <div class=\\\"min-degree\\\">\\r\\n    <p class=\\\"min-degree__text\\\">min</p>\\r\\n    <p class=\\\"min-degree__value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"mainTempMin\") || (depth0 != null ? lookupProperty(depth0,\"mainTempMin\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"mainTempMin\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":33},\"end\":{\"line\":7,\"column\":48}}}) : helper)))\n    + \"°</p>\\r\\n    </div>\\r\\n    <div class=\\\"max-degree\\\">\\r\\n    <p class=\\\"max-degree__text\\\">max</p>\\r\\n    <p class=\\\"max-degree__value\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"mainTempMax\") || (depth0 != null ? lookupProperty(depth0,\"mainTempMax\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"mainTempMax\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":33},\"end\":{\"line\":11,\"column\":48}}}) : helper)))\n    + \"°</p>\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}